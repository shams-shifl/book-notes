<%- include('partials/header.ejs'); -%>

    <div class="topBar">
        <div class="title">
            <h1>Books read by Shams</h1>
            <p>Tiny summary but detailed notes for each. Use the ISBN number to find it from your local library or anywhere else. This page will constantly update as I read more, so bookmark it if you want to check back in a few months.</p>
        </div>
        
        <div class="topActions">
            <div class="sortAction">
                <p>Sort by:</p>
                <select id="sort-dropdown">
                    <option value="title">Title</option>
                    <option value="recency">Latest</option>
                    <option value="rating">Rating</option>
                </select>
            </div>
    
            <form action="/addBook" method="post" class="addBookBtn">
                <button id="add-book">Add Book</button>
            </form>
        </div>
    </div>

    <% for (let book of shelf) { %>
        <div class="book-item">
            <img src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-M.jpg" alt="">
            <h3><%= book.title %></h3>
            <p><strong>ISBN:</strong> <%= book.isbn %></p>
            <p><strong>Author:</strong> <%= book.author %></p>
            <p><strong>Read At:</strong> <%= book.readAt %></p>
            <p><strong>Rating:</strong> <%= book.rating %> of 10</p>
            <p><strong>Notes:</strong> <%= book.note %></p>
            <button class="edit-book" data-id="<%= book._id %>">Edit</button>
        </div>
    <% } %>

<%- include('partials/footer.ejs'); -%>